<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–ö–ª–∏–∫-—Ç—É-–º—É–≤ + –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω–∞—è —Å—Ü–µ–Ω–∞ (Canvas)</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas id="game"></canvas>
    <canvas id="lightningCanvas"></canvas>
    <div id="gameover" class="overlay">
      <div class="modal">
        <h2>Game Over</h2>
        <button onclick="__restartGame()">–ü–æ—á–∞—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
      </div>
    </div>
    <div id="closed" class="overlay">
      <div class="modal">
        <h2>–ö–∞–±—ñ–Ω–µ—Ç –∑–∞–∫—Ä–∏—Ç–∏–π</h2>
        <button onclick="hideDoorIsClosed()" id="close">
          –ø–æ—Å—Ç—É–ø–∏ –≤ –∫–æ–ª–µ–¥–∂ —Ç–∞ –¥–æ—Å–ª—ñ–¥–∏ –∫–∞–±—ñ–Ω–µ—Ç)
        </button>
      </div>
    </div>
    <div id="ocupied" class="overlay">
      <div class="modal">
        <h2>–ó–∞–π–Ω—è—Ç–æ)</h2>
        <button onclick="hideDoorIsClosed()" id="close">–∑–∞–∫—Ä–∏—Ç–∏</button>
      </div>
    </div>
    <div id="end" class="overlay">
      <div class="modal">
        <h2>–¢—É—Ç –ø–∞—Ä–∞ –≤–∂–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å.</h2>
        <button onclick="hideDoorIsClosed()" id="close">–∑–∞–∫—Ä–∏—Ç–∏</button>
      </div>
    </div>
    <div id="popup" class="overlay">
      <div class="modal">
        <img id="popupImage" src="" alt="–í—ã–±–æ—Ä" />
        <div class="buttons">
          <button id="yesButton">–¢–∞–∫</button>
          <button id="noButton">–ù—ñ</button>
        </div>
      </div>
    </div>
    <div id="questionPopup" class="overlay">
      <div class="modal">
        <p>–Ø–∫–∏–º —á–∏–Ω–æ–º –¥—ñ–∑–Ω–∞—Ç–∏—Å—è, –¥–µ –ø–∞—Ä–∞?</p>
        <div class="buttons">
          <button class="questionButton" data-answer="curator">
            –£ –∫—É—Ä–∞—Ç–æ—Ä–∞
          </button>
          <button class="questionButton" data-answer="mate">
            –£ –æ–¥–Ω–æ–≥—Ä—É–ø–Ω–∏–∫–∞
          </button>
          <button class="questionButton" data-answer="schedule">
            –ü–æ–¥–∏–≤–∏—Ç–∏—Å—è —É —Ä–æ–∑–∫–ª–∞–¥
          </button>
        </div>
      </div>
    </div>
    <div id="schedulePopup" class="overlay">
      <div class="modal" style="text-align: center">
        <img
          id="scheduleImage"
          src="img/rozklad.png"
          style="max-width: 90vw; max-height: 80vh; height: 100vh"
        />
        <div class="buttons" style="margin-top: 0px">
          <button id="closeScheduleBtn">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
      </div>
    </div>
    <div id="lessonPopup" class="lesson-overlay">
      <div class="lesson-modal">
        <p id="lessonText"></p>
        <input id="lessonInput" class="lesson-input hidden" type="text" />
        <div class="lesson-buttons" id="lessonButtons"></div>
      </div>
    </div>

    <div id="lesson-dialog" class="lesson-dialog lesson-dialog--no-input">
      <div class="lesson-dialog__window">
        <div id="lesson-text" class="lesson-dialog__text"></div>

        <div class="lesson-input-wrapper">
          <span class="lesson-terminal-prompt">js&gt;</span>
          <input id="lesson-input" class="lesson-input" type="text" />
        </div>

        <div id="lesson-buttons" class="lesson-dialog__buttons"></div>
      </div>
    </div>
    <div
      style="
        background: #000;
        display: flex;
        justify-content: center;
        align-items: center;
      "
      id="startScreen"
      class="overlay show"
    >
      <div class="modal">
        <h2>–ü—Ä–∏–≤—ñ—Ç!</h2>
        <p>
          –ó–∞—Ä–∞–∑ —É —Ç–µ–±–µ —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–æ–π—Ç–∏ –æ–¥–∏–Ω –¥–µ–Ω—å –∑ –∂–∏—Ç—Ç—è —Å—Ç—É–¥–µ–Ω—Ç–∞ –Ω–∞—à–æ–≥–æ
          –∫–æ–ª–µ–¥–∂—É!<br />
          –°–∫–∞–∂–∏, —è–∫ —Ç–æ–±—ñ –∑—Ä—É—á–Ω—ñ—à–µ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≥—Ä—É?
        </p>

        <div id="startButtons">
          <button id="btnAbit">–Ø ‚Äî –º–∞–π–±—É—Ç–Ω—ñ–π —Å—Ç—É–¥–µ–Ω—Ç</button>
          <button id="btnStudent">–Ø ‚Äî —Å—Ç—É–¥–µ–Ω—Ç/–≥—ñ—Å—Ç—å</button>
          <button id="btnSkip">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏</button>
        </div>

        <form id="abitForm" class="hidden">
          <h3>–¢—Ä—ñ—à–∫–∏ –ø—Ä–æ —Ç–µ–±–µ</h3>

          <input
            id="abitName"
            name="entry.1527170952"
            type="text"
            placeholder="–Ø–∫ —Ç–µ–±–µ –∑–≤–∞—Ç–∏?"
          />

          <input
            id="abitSchool"
            name="entry.542459924"
            type="text"
            placeholder="–ó —è–∫–æ—ó —Ç–∏ —à–∫–æ–ª–∏? (–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)"
          />

          <select id="abitSpec" name="entry.1136122744">
            <option value="">–ù–∞ —è–∫—É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å —Ö–æ—á–µ—à –≤—Å—Ç—É–ø–∞—Ç–∏?</option>
            <option>–Ü–Ω–∂–µ–Ω–µ—Ä—ñ—è –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è</option>
            <option>–ö–æ–º–ø‚Äô—é—Ç–µ—Ä–Ω–∞ —ñ–Ω–∂–µ–Ω–µ—Ä—ñ—è</option>
            <option>–ï–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∞</option>
            <option>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</option>
            <option>–ê–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–∏–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
            <option>–ì–∞–ª—É–∑–µ–≤–µ –º–∞—à–∏–Ω–æ–±—É–¥—É–≤–∞–Ω–Ω—è</option>
            <option>–°–µ–∫—Ä–µ—Ç–∞—Ä—Å—å–∫–∞ —Ç–∞ –æ—Ñ—ñ—Å–Ω–∞ —Å–ø—Ä–∞–≤–∞</option>
          </select>

          <!-- –•–æ–≤–∞—î–º–æ (–±—É–¥–µ: –¢–∞–∫ / –ù—ñ) -->
          <input id="wantsInfo" name="entry.575420519" type="hidden" value="" />

          <p>–•–æ—á–µ—à –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –≤—Å—Ç—É–ø?</p>
          <button type="button" id="btnYesInfo">–¢–∞–∫</button>
          <button type="button" id="btnNoInfo">–ù—ñ</button>

          <div id="phoneBlock" class="hidden">
            <input
              id="abitPhone"
              name="entry.1139989332"
              type="text"
              placeholder="–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É"
            />
            <button type="button" id="btnSubmitPhone">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
          </div>

          <div id="byeBlock" class="hidden">
            <p>–î–æ–±—Ä–µ! –ë–∞–∂–∞—î–º–æ —É—Å–ø—ñ—Ö—ñ–≤ —É –≥—Ä—ñ ‚ù§Ô∏è</p>
            <button type="button" id="btnStartGameFromBye">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
          </div>
        </form>
      </div>
    </div>
    <div id="finalMsg" class="overlay">
      <div class="modal" style="text-align: center">
        <h2 style="font-size: 38px; color: #fff">
          –í–Ü–¢–ê–Ñ–ú–û –ó –ü–†–û–•–û–î–ñ–ï–ù–ù–Ø–ú –û–°–¢–ê–ù–ù–¨–û–ì–û –£–†–û–ö–£!<br />
          –¢–ï–ü–ï–† –°–ü–£–°–¢–ò–°–Ø –ù–ê 1 –ü–û–í–ï–†–•, –¢–ï–ë–ï –ß–ï–ö–ê–Ñ –°–Æ–†–ü–†–ò–ó!
        </h2>
      </div>
    </div>
    <div id="gameWin" class="overlay">
      <div class="modal" style="text-align: center">
        <h2 style="font-size: 42px; color: #fff">
          –í–Ü–¢–ê–Ñ–ú–û! –¢–ò –ü–†–û–ô–®–û–í –ì–†–£! üéâ
        </h2>
        <h2 style="font-size: 42px; color: #fff">
          ‚Äú–î—è–∫—É—î–º–æ, —â–æ –ø—Ä–æ–≤—ñ–≤ –¥–µ–Ω—å –∑ –Ω–∞–º–∏. –¢–∏ –≥—ñ–¥–Ω–∏–π —Å—Ç–∞—Ç–∏ –Ω–∞—à–∏–º —Å—Ç—É–¥–µ–Ω—Ç–æ–º‚Äù
        </h2>
        <h2 style="font-size: 42px; color: #fff">
          –ó–∞–ø—Ä–æ—à—É—î–º–æ —Ç–µ–±–µ –Ω–∞ –Ω–∞–≤—á–∞–Ω–Ω—è
        </h2>
      </div>
    </div>

    <canvas
      id="confetti"
      style="position: fixed; inset: 0; pointer-events: none; z-index: 9999"
    ></canvas>

    <script src="./src/startSurvey.js"></script>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
