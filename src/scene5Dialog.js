// scene5Dialog.js
import { showLesson } from "./lessonDialog.js";
import { changeScene } from "./sceneManager.js";
import { hero } from "./state.js";
import { setPaused } from "./gameData.js";

let started = false;

export function startScene5Dialog() {
  if (started) return;
  started = true;

  setPaused(true);
  introChoice();
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ĞŸĞ•Ğ Ğ¨Ğ˜Ğ™ Ğ’Ğ˜Ğ‘Ğ†Ğ 
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

export function introChoice() {
  showLesson(
    "Ğ©Ğ¾ Ñ‚Ğ¸ Ñ…Ğ¾Ñ‡ĞµÑˆ Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸?",
    [
      { label: "ğŸ¥ª Ğ¡Ñ–ÑÑ‚Ğ¸ Ñ—ÑÑ‚Ğ¸ Ğ±ÑƒÑ‚ĞµÑ€Ğ±Ñ€Ğ¾Ğ´", onSelect: () => sandwich() },
      { label: "ğŸ—£ ĞŸĞ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ· ĞºĞ¸Ğ¼Ğ¾ÑÑŒ", onSelect: () => talkStart() },
      { label: "ğŸ˜´ ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ñ‡Ğ¸Ñ‚Ğ¸", onSelect: () => rest() },
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ“Ñ–Ğ»ĞºĞ°: Ğ‘ÑƒÑ‚ĞµÑ€Ğ±Ñ€Ğ¾Ğ´
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function sandwich() {
  showLesson(
    "Ğ¢Ñ€Ğ¾Ñ…Ğ¸ Ğ¿Ñ–Ğ´ĞºÑ€Ñ–Ğ¿Ğ¸Ğ²ÑÑ.\nĞ–Ğ¸Ñ‚Ñ‚Ñ Ğ½Ğ°Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ¶ÑƒÑ”Ñ‚ÑŒÑÑ.",
    [
      { label: "ĞŸĞ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸ÑÑŒ", onSelect: () => exitScene() }
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ“Ñ–Ğ»ĞºĞ°: Ğ’Ñ–Ğ´Ğ¿Ğ¾Ñ‡Ğ¸Ğ½Ğ¾Ğº
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function rest() {
  showLesson(
    "\n\nÂ«5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½ ÑĞ¿Ğ¾ĞºĞ¾Ñ...Â»",
    [
      { label: "ĞŸĞ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸ÑÑŒ", onSelect: () => exitScene() }
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ“Ñ–Ğ»ĞºĞ°: Ğ Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ğ°
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function talkStart() {
  showLesson(
    "Ğ¥Ğ»Ğ¾Ğ¿ĞµÑ†ÑŒ:\nÂ«Ğ, Ğ¿Ñ€Ğ¸Ğ²Ñ–Ñ‚! Ğ¢Ğ¸ Ğ¶ Ğ· Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ ĞºÑƒÑ€ÑÑƒ, Ğ´Ğ°?Â»",
    [
      { label: "ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ° Ğ¿ĞµÑ€ĞµÑ€Ğ²Ñ– Ğ·Ğ°Ğ±Ñ–Ğ³, Ñ‚ÑƒÑ‚ Ñ‚Ğ¸Ñ…Ñ–ÑˆĞµ Ñ‚Ñ€Ğ¾Ñ…Ğ¸.", onSelect: () => routeQuiet() },
      { label: "Ğ Ğ²Ğ¸ Ğ· ÑĞºĞ¾Ñ— Ğ³Ñ€ÑƒĞ¿Ğ¸?", onSelect: () => routeGroup() }
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ“Ñ–Ğ»ĞºĞ°: Â«Ğ¢ÑƒÑ‚ Ñ‚Ğ¸Ñ…Ñ–ÑˆĞµ Ñ‚Ñ€Ğ¾Ñ…Ğ¸Â»
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function routeQuiet() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 1:\nÂ«ĞÑƒ Ğ´Ğ°, Ñƒ ĞºĞ¾Ñ€Ğ¸Ğ´Ğ¾Ñ€Ñ– Ğ·Ğ°Ñ€Ğ°Ğ· Ñ‚Ğ°ĞºĞ¸Ğ¹ ÑˆÑƒĞ¼, Ğ½Ñ–Ğ±Ğ¸ Ğ±ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ñƒ ĞºĞ°Ğ²Ñƒ Ñ€Ğ¾Ğ·Ğ´Ğ°ÑÑ‚ÑŒ.Â»",
    [
      { label: "Ğ”Ğ°Ğ»Ñ–", onSelect: () => quiet2() }
    ]
  );
}

function quiet2() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 2:\nÂ«Ğ¢Ğ° Ñ‚ÑƒÑ‚ Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸ ÑĞ¿Ğ¾ĞºÑ–Ğ¹Ğ½Ğ¾. ĞœĞ¸ Ñ‚ÑƒÑ‚ ÑĞ¸Ğ´Ğ¸Ğ¼Ğ¾ Ğ¼Ğ°Ğ¹Ğ¶Ğµ ĞºĞ¾Ğ¶Ğ½Ñƒ Ğ¿ĞµÑ€ĞµÑ€Ğ²Ñƒ.Â»",
    [
      { label: "Ğ¢Ğ° Ğ½Ğ¾Ñ€Ğ¼ Ğ¼Ñ–ÑÑ†Ğµ, Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ½Ğµ", onSelect: () => quiet3() }
    ]
  );
}

function quiet3() {
  showLesson(
    "Ğ¥Ğ»Ğ¾Ğ¿ĞµÑ†ÑŒ:\nÂ«ĞĞ³Ğ°, Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğµ, Ñ‰Ğ¾ Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ Ñ‚ĞµĞ¿Ğ»Ğ°.Â»",
    [
      { label: "Ğ† Ğ²Ğ°Ğ¹Ñ„Ğ°Ğ¹ Ğ»Ğ¾Ğ²Ğ¸Ñ‚ÑŒ", onSelect: () => quiet4() }
    ]
  );
}

function quiet4() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 1:\nÂ«Ğ† Ğ½Ñ–Ñ…Ñ‚Ğ¾ Ğ½Ğµ Ğ¶ĞµĞ½Ğµ.Â»",
    [
      { label: "ĞÑƒ Ğ¾Ñ‚, Ñ–Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ° Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ğ¸Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ½Ñ", onSelect: () => quietFinal() }
    ]
  );
}

function quietFinal() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 2:\nÂ«ĞÑƒ Ğ´Ğ¾Ğ±Ñ€Ğµ, Ğ±ÑƒĞ´Ñƒ Ñ Ğ¹Ñ‚Ğ¸, Ğ±Ğ¾ ÑĞºĞ¾Ñ€Ğ¾ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ¿Ğ°Ñ€Ğ°.Â»",
    [
      { label: "Ğ’Ğ¸Ğ¹Ñ‚Ğ¸", onSelect: () => exitScene() }
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ“Ñ–Ğ»ĞºĞ°: Â«Ğ Ğ²Ğ¸ Ğ· ÑĞºĞ¾Ñ— Ğ³Ñ€ÑƒĞ¿Ğ¸?Â»
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function routeGroup() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 1:\nÂ«ĞœĞ¸ Ğ· ĞŸĞ—-222 Ñ– ĞŸĞ—-221.Â»",
    [
      { label: "Ğ£ Ğ½Ğ°Ñ Ğ·Ğ°Ñ€Ğ°Ğ· â€œĞ²Ñ–ĞºĞ½Ğ¾â€, Ğ¾Ñ‚ Ñ– Ğ·Ğ°Ğ²Ğ¸ÑĞ»Ğ¸ Ñ‚ÑƒÑ‚", onSelect: () => group2() }
    ]
  );
}

function group2() {
  showLesson(
    "Ğ¥Ğ»Ğ¾Ğ¿ĞµÑ†ÑŒ:\nÂ«Ğ Ğ½Ñƒ ĞºĞ»Ğ°ÑĞ½Ğ¾ Ğ²Ğ°Ğ¼, Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ² Ğ½Ğ°Ñ ĞºĞ¾Ğ¶Ğ½Ğ° Ğ¿Ğ°Ñ€Ğ° Ğ² Ñ€Ñ–Ğ·Ğ½Ñ–Ğ¹ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ñ–Ñ—, Ñ‚Ğ¾ Ñ Ğ²Ğ¶Ğµ Ğ·Ğ°Ğ±Ğ»ÑƒĞºĞ°Ğ² Ñ‚Ñ€Ğ¾Ñ…Ğ¸.Â»",
    [
      { label: "Ğ”Ğ°Ğ»Ñ–", onSelect: () => group3() }
    ]
  );
}

function group3() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 2:\nÂ«Ğ, Ğ·Ğ½Ğ°Ğ¹Ğ¾Ğ¼Ğ¾. ĞœĞ¸ Ñ‚ĞµĞ¶ Ñ‚Ğ°Ğº Ğ±Ğ»ÑƒĞ´Ğ¸Ğ¼Ğ¾ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ½Ñ â€” ÑˆÑƒĞºĞ°Ñ”Ñˆ, Ğ´Ğµ Ğ¿ĞµÑ€ÑˆĞ°, Ğ¿Ğ¾Ñ‚Ñ–Ğ¼ Ğ´Ğµ Ğ´Ñ€ÑƒĞ³Ğ°, Ğ¿Ğ¾Ñ‚Ñ–Ğ¼ Ğ²Ğ¶Ğµ Ğ·Ğ°Ğ±Ğ¸Ğ² Ñ– Ğ¹Ğ´ĞµÑˆ Ğ½Ğ° Ğ·Ğ°Ğ¿Ğ°Ñ… ĞºÑ€ĞµĞ¹Ğ´Ğ¸.Â»",
    [
      { label: "ĞĞ°Ğ¹Ğ³Ñ–Ñ€ÑˆĞµ â€” ĞºĞ¾Ğ»Ğ¸ Ğ´Ğ²Ñ– Ñ€Ñ–Ğ·Ğ½Ñ– Ğ¿Ğ°Ñ€Ğ¸ Ğ¿Ñ–Ğ´Ñ€ÑĞ´ Ğ² Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ°Ñ….", onSelect: () => group4() }
    ]
  );
}

function group4() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 1:\nÂ«ĞĞ±Ğ¾ ĞºĞ¾Ğ»Ğ¸ Ñ‚Ğ¸ Ğ²Ğ¶Ğµ ÑĞ¸Ğ´Ğ¸Ñˆ, Ğ° Ğ²Ğ¸ÑĞ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ, Ñ‰Ğ¾ Ñ†Ğµ Ğ½Ğµ Ñ‚Ğ²Ğ¾Ñ Ğ³Ñ€ÑƒĞ¿Ğ°.Â»",
    [
      { label: "Ğ‘ÑƒĞ»Ğ¾...", onSelect: () => group5() }
    ]
  );
}

function group5() {
  showLesson(
    "Ğ¥Ğ»Ğ¾Ğ¿ĞµÑ†ÑŒ:\nÂ«Ğ‘ÑƒĞ»Ğ¾. Ğ¡Ğ¸Ğ´Ñ–Ğ² Ğ´Ğ¾ ÑĞµÑ€ĞµĞ´Ğ¸Ğ½Ğ¸ Ğ¿Ğ°Ñ€Ğ¸, Ğ¿Ğ¾ĞºĞ¸ Ğ½Ğµ Ğ·Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ğ², Ñ‰Ğ¾ Ğ²Ğ¸ĞºĞ»Ğ°Ğ´Ğ°Ñ‡ Ğ´Ğ¾ Ğ¼ĞµĞ½Ğµ Ğ½Ğµ Ğ·Ğ²ĞµÑ€Ñ‚Ğ°Ñ”Ñ‚ÑŒÑÑ, Ğ±Ğ¾ Ñ Ñ‚ÑƒÑ‚ Ğ·Ğ°Ğ¹Ğ²Ğ¸Ğ¹.Â»",
    [
      { label: "ĞšĞ»Ğ°ÑĞ¸ĞºĞ° Ñ‚ĞµÑ…Ğ½Ñ–ĞºÑƒĞ¼Ñƒ", onSelect: () => group6() }
    ]
  );
}

function group6() {
  showLesson(
    "Ğ”Ñ–Ğ²Ñ‡Ğ¸Ğ½Ğ° 1:\nÂ«Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ğ·Ğ°Ğ±Ğ»ÑƒĞºĞ°Ğ² â€” Ğ´ĞµĞ½ÑŒ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ñ‚Ğ¸Ğ¹ Ğ´Ğ°Ñ€Ğ¼Ğ°.Â»",
    [
      { label: "ĞÑƒ Ğ´Ğ¾Ğ±Ñ€Ğµ, Ğ±ÑƒĞ´Ñƒ Ñ Ğ¹Ñ‚Ğ¸", onSelect: () => exitScene() }
    ]
  );
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Ğ’Ğ˜Ğ¥Ğ†Ğ”
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function exitScene() {
  setPaused(false);

  setTimeout(() => {
    changeScene(3);
    hero.x = 1800;
    hero.y = 480;
    hero.targetX = hero.x;
    hero.targetY = hero.y;
    started = false;
  }, 200);
}
